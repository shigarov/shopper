# Shopper: Витрина интернет-магазина

Веб-приложение представляет собой витрину товаров, которые пользователь может положить в корзину и купить.

## Запуск проекта

1. Убедитесь, что у вас установлена JDK 21.
2. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/shigarov/shopper.git
    ```
3. Перейдите в директорию проекта:
    ```bash 
    cd <project-directory>
    ```
4. Соберите проект:
    ```bash 
    gradlew bootJar
    ```
5. Запустите приложение:
    ```bash 
    java -jar build/libs/shopper-0.0.1-SNAPSHOT.jar
    ```
6. Наполните базу данных тестовыми товарами, используя CURL:

   На Windows запустите:
    ```bash 
    populate.bat
    ```
   На Linux запустите:
    ```bash 
    populate.sh
    ```
7. Откройте браузер и перейдите по адресу:
    ```bash 
    http://localhost:8081
    ```
8. Остановите приложение:
   ```bash
   curl -X POST http://localhost:8081/actuator/shutdown
   ```

## Запуск с помощью Docker-контейнера

1. Убедитесь, что у вас установлены JDK 21.
2. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/shigarov/shopper.git
    ```
3. Перейдите в директорию проекта:
    ```bash 
    cd <project-directory>
    ```
4. Соберите проект:
    ```bash 
    gradlew bootJar
    ```
5. Убедитесь, что Docker Daemon запущен.
6. Создайте Docker-контейнер:
   ```bash
   docker build -t practicum/shopper .
   ```
7. Запустите Docker-контейнер:
   ```bash
   docker run --name shopper -p 8081:8081 practicum/shopper
   ```
8. Наполните базу данных тестовыми товарами, используя CURL:

   На Windows запустите:
    ```bash 
    populate.bat
    ```
   На Linux запустите:
    ```bash 
    populate.sh
    ```
9. Откройте браузер и перейдите по адресу:
    ```bash 
    http://localhost:8081
    ```
10. По завершению работы можно остановить и удалить запущенный Docker-контейнер:
   ```bash
   docker container rm -f shopper
   ```

## Функциональность

### Наполнение базы данных товарами

Используйте эндпоинт `POST /admin/items/add`
- **Параметры:**
   - `title` (обязательно): название товара.
   - `description` (обязательно): описание товара.
   - `imageFile` (опционально): изображение товара.
   - `price` (обязательно): цена товара.
- **Описание:** добавляет новый товар в базу данных.

Пример добавления нового товара: 
```bash
curl -i -X POST -H "Content-Type: multipart/form-data" \
  -F "title=Велосипед BMC Speedmachine" \
  -F "description=Шоссейный велосипед BMC Speedmachine 01 ONE Red AXS (2024), S, белый" \
  -F "imageFile=@example/item16.jpg" \
  -F "price=999999.00" \
  localhost:8081/admin/items/add
```

> Директория example содержит изображения тестовых товаров

### Пользовательский интерфейс

- Приложение состоит из шести основных частей (модулей): страница витрины товаров, доступных для просмотра и покупки; страница товара; страница корзины покупателя; страница всех заказов; страница заказа; сервис покупки.
- Страница витрины товаров — это веб-страница (html + javascript), на которой представлены:
  - список товаров, доступных для заказа (картинка, название, цена, кнопка добавления в корзину/удаления из неё, кнопка изменения количества товара в корзине);
  - список товаров может быть представлен в любом виде (списком, плиткой);
  - есть пагинация (по 10, 20, 50, 100 товаров);
  - сверху строка поиска с фильтрацией по названию (можно просто по вхождению слова в название/описание товара);
  - сверху доступна фильтрация по цене, алфавиту.

- При нажатии на товар происходит переход на веб-страницу карточки товара, на которой представлены:
название, картинка, описание товара, возможность положить товар в корзину/удалить его, изменить количество в корзине;
цена товара.

- В правом верхнем углу любой веб-страницы есть кнопка перехода в корзину, которая представляет собой:
веб-страницу со списком положенных в неё товаров, их количеством, ценой каждого товара и общей ценой всей корзины;
есть возможность удалить товар из корзины, изменить его количество;
есть кнопка оформления заказа.

- В правом верхнем углу любой веб-страницы есть кнопка перехода на страницу заказов, которая представляет собой:
веб-страницу со списком всех оформленных заказов, суммой каждого заказа и общей суммой всех заказов;
при нажатии на заказ появляется веб-страница совершённого заказа.

- На веб-странице заказа представлен список купленных товаров (картинка, название, цена).
При нажатии на кнопку оформления заказа происходит эмуляция оформления заказа, при этом происходит переход на страницу оформленного заказа.
