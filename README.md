# Shopper: Витрина интернет-магазина

Веб-приложение представляет собой витрину товаров, которые пользователь может положить в корзину и купить.

## Запуск проекта

1. Убедитесь, что у вас установлена JDK 21.
2. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/shigarov/shopper.git
    ```
3. Перейдите в директорию проекта:
    ```bash 
    cd <project-directory>
    ```
4. Соберите проект:
    ```bash 
    gradlew bootJar
    ```
5. Запустите приложение:
    ```bash 
    java -jar build/libs/shopper-0.0.1-SNAPSHOT.jar
    ```
6. Наполните базу данных тестовыми товарами, используя CURL:

   На Windows запустите:
    ```bash 
    populate.bat
    ```
   На Linux запустите:
    ```bash 
    populate.sh
    ```
7. Откройте браузер и перейдите по адресу:
    ```bash 
    http://localhost:8081
    ```
8. Остановите приложение:
   ```bash
   curl -X POST http://localhost:8081/actuator/shutdown
   ```

## Запуск с помощью Docker-контейнера

1. Убедитесь, что у вас установлены JDK 21.
2. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/shigarov/shopper.git
    ```
3. Перейдите в директорию проекта:
    ```bash 
    cd <project-directory>
    ```
4. Соберите проект:
    ```bash 
    gradlew bootJar
    ```
5. Убедитесь, что Docker Daemon запущен.
6. Создайте Docker-контейнер:
   ```bash
   docker build -t practicum/shopper .
   ```
7. Запустите Docker-контейнер:
   ```bash
   docker run --name shopper -p 8081:8081 practicum/shopper
   ```
8. Наполните базу данных тестовыми товарами, используя CURL:

   На Windows запустите:
    ```bash 
    populate.bat
    ```
   На Linux запустите:
    ```bash 
    populate.sh
    ```
9. Откройте браузер и перейдите по адресу:
    ```bash 
    http://localhost:8081
    ```
10. По завершению работы можно остановить и удалить запущенный Docker-контейнер:
   ```bash
   docker container rm -f shopper
   ```

## Функциональность

### Наполнение базы данных товарами

Используйте эндпоинт `POST /admin/items/add`
- **Параметры:**
   - `title` (обязательно): название товара.
   - `description` (обязательно): описание товара.
   - `imageFile` (опционально): изображение товара.
   - `price` (обязательно): цена товара.
- **Описание:** добавляет новый товар в базу данных.

Пример добавления нового товара: 
```bash
curl -i -X POST -H "Content-Type: multipart/form-data" \
  -F "title=Велосипед BMC Speedmachine" \
  -F "description=Шоссейный велосипед BMC Speedmachine 01 ONE Red AXS (2024), S, белый" \
  -F "imageFile=@example/item16.jpg" \
  -F "price=999999.00" \
  localhost:8081/admin/items/add
```

> Директория example содержит изображения тестовых товаров

### Пользовательский интерфейс

- Приложение включает следующие страницы: 
  - страница витрины товаров
  - страница карточки товара
  - страница корзины покупателя
  - страница всех заказов
  - страница заказа
  
- Страница витрины товаров:
  - просмотр списка товаров, доступных для заказа
  - добавление товаров в корзину и удаление из нее
  - изменение количества товара в корзине
  - пагинация (по 10, 20, 50, 100 товаров)
  - поиск по вхождению строки в название/описание товара
  - сортировка по цене и алфавиту

- Страница карточки товара:
  - просмотр карточки товара (название, товара, картинка, цена)
  - добавление товаров в корзину и удаление из нее
  - изменение количества товара в корзине

- Станица корзины:
  - просмотр списка товаров в корзине
  - добавление товаров в корзину и удаление из нее
  - изменение количества товара в корзине
  - оформления заказа

- Страница заказов:
  - просмотр списка всех оформленных заказов
  - переход к совершенному заказу

- Страница заказа 
  - просмотр списка купленных товаров
